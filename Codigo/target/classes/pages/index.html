<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Login</title>
  <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/login.css">
</head> 

<body>

<div class="flex justify-center items-center h-screen">
<!-- Right: Login Form -->
<div class="lg:p-36 md:p-52 sm:20 p-8 w-full lg:w-1/3  rounded-lg p-10 m-10 border-white shadow-2xl ">
  <img src="../assets/images/logo.svg" alt="" class="mb-6 logo">
  <h1 class="text-2xl font-semibold mb-4 ">Login</h1>
  <form action="https://ti2-organizai.azurewebsites.net/login" method="POST" id="loginForm">
<!-- Right: Login Form -->

    <!-- Username Input -->
    <div class="mb-4">
      <label for="username" class="block ">E-mail</label>
      <input type="text" id="email" name="email" class="w-full border border-black rounded-md py-2 px-3 bg-gray-600 focus:outline-none focus:border-black-700 transition duration-300" autocomplete="off">
      <span id="emailError" class="hidden text-sm text-red-500">Este campo é obrigatório</span>
    </div>
    <!-- Username Input -->

    <!-- Password Input -->
    <div class="mb-4">
      <label for="password" class="block ">Senha</label>
      <input type="password" id="senha" name="senha" class="w-full border border-black rounded-md py-2 px-3 bg-gray-600 focus:outline-none focus:border-black-700 transition duration-300" autocomplete="off">
      <span id="senhaError" class="hidden text-sm text-red-500">Este campo é obrigatória</span>
    </div>
    <!-- Password Input -->

    <!-- Login Button -->
    <button type="input" class="bg-red-600 hover:bg-gray-600  font-semibold rounded-md py-2 px-4 w-full transition duration-300">Login</button>
    <!-- Login Button -->

  </form>
  <!-- Sign up  Link -->
  <div class="mt-6 text-red-600 text-center">
    <p>Ainda não tem uma conta? </p>
    <a href="cadastro.html" class="hover:underline">Registre Aqui</a>
  </div>
</div>
</div>
</body>

<script src="../assets/js/tema.js"></script>
<script>
  // Get the fragment identifier from the URL
  var fragment = window.location.hash;

  // Remove the '#' character from the fragment
  if (fragment.startsWith('#')) {
      fragment = fragment.substring(1);
  }

  if(fragment == "notfound"){
      window.alert("E-mail ou senha inválido!")
  }

  const email = document.getElementById('email');
  const emailError = document.getElementById('emailError');
  const senha = document.getElementById('senha');
  const senhaError = document.getElementById('senhaError');

  email.addEventListener('input', function() {
      if (!email.value.trim()) {
        email.classList.add('border-red-500');
        emailError.classList.remove('hidden');
      } else {
        email.classList.remove('border-red-500');
        emailError.classList.add('hidden');
      }
    });

    senha.addEventListener('input', function() {
      if (!senha.value.trim()) {
        senha.classList.add('border-red-500');
        senhaError.classList.remove('hidden');
      } else {
        senha.classList.remove('border-red-500');
        senhaError.classList.add('hidden');
      }
    });

    document.getElementById('loginForm').addEventListener('submit', function(event) {
      let isValid = true;

      // Validate Email
      const emailPattern = /^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/;
      if (!email.value.trim()) {
        email.classList.add('border-red-500');
        emailError.classList.remove('hidden');
        isValid = false;
      }

      // Validate Senha
      if (!senha.value.trim()) {
        senha.classList.add('border-red-500');
        senhaError.classList.remove('hidden');
        isValid = false;
      }

      if (!isValid) {
        event.preventDefault();
      }
    });
  
</script>

</html>